<!DOCTYPE html>
<html lang="fr" xml:lang="fr">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Git et GitHub | Travailler avec R</title>
  <meta name="description" content="Support du cours Travailler avec R." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Git et GitHub | Travailler avec R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Support du cours Travailler avec R." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Git et GitHub | Travailler avec R" />
  
  <meta name="twitter:description" content="Support du cours Travailler avec R." />
  

<meta name="author" content="Eric Marcon" />


<meta name="date" content="2020-12-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="chap-utiliseR.html"/>
<link rel="next" href="chap-rediger.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7NVD1TWMCJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7NVD1TWMCJ');
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Travailler avec R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Présentation</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#objectifs"><i class="fa fa-check"></i>Objectifs</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#conventions"><i class="fa fa-check"></i>Conventions</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap-logiciels.html"><a href="chap-logiciels.html"><i class="fa fa-check"></i><b>1</b> Logiciels</a><ul>
<li class="chapter" data-level="1.1" data-path="chap-logiciels.html"><a href="chap-logiciels.html#r"><i class="fa fa-check"></i><b>1.1</b> R</a><ul>
<li class="chapter" data-level="1.1.1" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation"><i class="fa fa-check"></i><b>1.1.1</b> Installation</a></li>
<li class="chapter" data-level="1.1.2" data-path="chap-logiciels.html"><a href="chap-logiciels.html#rtools"><i class="fa fa-check"></i><b>1.1.2</b> Rtools</a></li>
<li class="chapter" data-level="1.1.3" data-path="chap-logiciels.html"><a href="chap-logiciels.html#mise-à-jour"><i class="fa fa-check"></i><b>1.1.3</b> Mise à jour</a></li>
<li class="chapter" data-level="1.1.4" data-path="chap-logiciels.html"><a href="chap-logiciels.html#sec:librairies"><i class="fa fa-check"></i><b>1.1.4</b> Librairies</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="chap-logiciels.html"><a href="chap-logiciels.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> RStudio</a><ul>
<li class="chapter" data-level="1.2.1" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation-1"><i class="fa fa-check"></i><b>1.2.1</b> Installation</a></li>
<li class="chapter" data-level="1.2.2" data-path="chap-logiciels.html"><a href="chap-logiciels.html#dossier-de-travail"><i class="fa fa-check"></i><b>1.2.2</b> Dossier de travail</a></li>
<li class="chapter" data-level="1.2.3" data-path="chap-logiciels.html"><a href="chap-logiciels.html#sec:solution-dossiers"><i class="fa fa-check"></i><b>1.2.3</b> Solution retenue</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="chap-logiciels.html"><a href="chap-logiciels.html#packages"><i class="fa fa-check"></i><b>1.3</b> Packages</a><ul>
<li class="chapter" data-level="1.3.1" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation-depuis-cran"><i class="fa fa-check"></i><b>1.3.1</b> Installation depuis CRAN</a></li>
<li class="chapter" data-level="1.3.2" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation-depuis-github"><i class="fa fa-check"></i><b>1.3.2</b> Installation depuis GitHub</a></li>
<li class="chapter" data-level="1.3.3" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation-depuis-bioconductor"><i class="fa fa-check"></i><b>1.3.3</b> Installation depuis Bioconductor</a></li>
<li class="chapter" data-level="1.3.4" data-path="chap-logiciels.html"><a href="chap-logiciels.html#solution-retenue"><i class="fa fa-check"></i><b>1.3.4</b> Solution retenue</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="chap-logiciels.html"><a href="chap-logiciels.html#git"><i class="fa fa-check"></i><b>1.4</b> Git</a></li>
<li class="chapter" data-level="1.5" data-path="chap-logiciels.html"><a href="chap-logiciels.html#github"><i class="fa fa-check"></i><b>1.5</b> GitHub</a></li>
<li class="chapter" data-level="1.6" data-path="chap-logiciels.html"><a href="chap-logiciels.html#miktex"><i class="fa fa-check"></i><b>1.6</b> MiKTeX</a><ul>
<li class="chapter" data-level="1.6.1" data-path="chap-logiciels.html"><a href="chap-logiciels.html#installation-2"><i class="fa fa-check"></i><b>1.6.1</b> Installation</a></li>
<li class="chapter" data-level="1.6.2" data-path="chap-logiciels.html"><a href="chap-logiciels.html#mises-à-jour"><i class="fa fa-check"></i><b>1.6.2</b> Mises à jour</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="chap-logiciels.html"><a href="chap-logiciels.html#go"><i class="fa fa-check"></i><b>1.7</b> Go</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html"><i class="fa fa-check"></i><b>2</b> Utiliser R</a><ul>
<li class="chapter" data-level="2.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#les-langages-de-r"><i class="fa fa-check"></i><b>2.1</b> Les langages de R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#base"><i class="fa fa-check"></i><b>2.1.1</b> Base</a></li>
<li class="chapter" data-level="2.1.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#sec:S3"><i class="fa fa-check"></i><b>2.1.2</b> S3</a></li>
<li class="chapter" data-level="2.1.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#s4"><i class="fa fa-check"></i><b>2.1.3</b> S4</a></li>
<li class="chapter" data-level="2.1.4" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#rc"><i class="fa fa-check"></i><b>2.1.4</b> RC</a></li>
<li class="chapter" data-level="2.1.5" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#s6"><i class="fa fa-check"></i><b>2.1.5</b> S6</a></li>
<li class="chapter" data-level="2.1.6" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#tidyverse"><i class="fa fa-check"></i><b>2.1.6</b> Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#sec:environnements"><i class="fa fa-check"></i><b>2.2</b> Environnements</a><ul>
<li class="chapter" data-level="2.2.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#organisation"><i class="fa fa-check"></i><b>2.2.1</b> Organisation</a></li>
<li class="chapter" data-level="2.2.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#recherche"><i class="fa fa-check"></i><b>2.2.2</b> Recherche</a></li>
<li class="chapter" data-level="2.2.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#espaces-de-nom-des-packages"><i class="fa fa-check"></i><b>2.2.3</b> Espaces de nom des packages</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#mesure-du-temps-dexécution"><i class="fa fa-check"></i><b>2.3</b> Mesure du temps d’exécution</a><ul>
<li class="chapter" data-level="2.3.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#system.time"><i class="fa fa-check"></i><b>2.3.1</b> system.time</a></li>
<li class="chapter" data-level="2.3.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#microbenchmark"><i class="fa fa-check"></i><b>2.3.2</b> microbenchmark</a></li>
<li class="chapter" data-level="2.3.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#profilage"><i class="fa fa-check"></i><b>2.3.3</b> Profilage</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#boucles"><i class="fa fa-check"></i><b>2.4</b> Boucles</a><ul>
<li class="chapter" data-level="2.4.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#fonctions-vectorielles"><i class="fa fa-check"></i><b>2.4.1</b> Fonctions vectorielles</a></li>
<li class="chapter" data-level="2.4.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#lapply"><i class="fa fa-check"></i><b>2.4.2</b> lapply</a></li>
<li class="chapter" data-level="2.4.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#boucles-for"><i class="fa fa-check"></i><b>2.4.3</b> Boucles for</a></li>
<li class="chapter" data-level="2.4.4" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#replicate"><i class="fa fa-check"></i><b>2.4.4</b> replicate</a></li>
<li class="chapter" data-level="2.4.5" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#vectorize"><i class="fa fa-check"></i><b>2.4.5</b> Vectorize</a></li>
<li class="chapter" data-level="2.4.6" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#statistiques-marginales"><i class="fa fa-check"></i><b>2.4.6</b> Statistiques marginales</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#sec:cpp"><i class="fa fa-check"></i><b>2.5</b> Code C++</a></li>
<li class="chapter" data-level="2.6" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#paralléliser-r"><i class="fa fa-check"></i><b>2.6</b> Paralléliser R</a><ul>
<li class="chapter" data-level="2.6.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#mclapply-fork"><i class="fa fa-check"></i><b>2.6.1</b> mclapply (fork)</a></li>
<li class="chapter" data-level="2.6.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#parlapply-socket"><i class="fa fa-check"></i><b>2.6.2</b> parLapply (socket)</a></li>
<li class="chapter" data-level="2.6.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#foreach"><i class="fa fa-check"></i><b>2.6.3</b> foreach</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#sec:cas"><i class="fa fa-check"></i><b>2.7</b> Etude de cas</a><ul>
<li class="chapter" data-level="2.7.1" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#création-des-données"><i class="fa fa-check"></i><b>2.7.1</b> Création des données</a></li>
<li class="chapter" data-level="2.7.2" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#spatstat"><i class="fa fa-check"></i><b>2.7.2</b> Spatstat</a></li>
<li class="chapter" data-level="2.7.3" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#apply"><i class="fa fa-check"></i><b>2.7.3</b> apply</a></li>
<li class="chapter" data-level="2.7.4" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#boucle-for"><i class="fa fa-check"></i><b>2.7.4</b> boucle for</a></li>
<li class="chapter" data-level="2.7.5" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#boucle-foreach"><i class="fa fa-check"></i><b>2.7.5</b> boucle foreach</a></li>
<li class="chapter" data-level="2.7.6" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#rcpp"><i class="fa fa-check"></i><b>2.7.6</b> RCpp</a></li>
<li class="chapter" data-level="2.7.7" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#rcppparallel"><i class="fa fa-check"></i><b>2.7.7</b> RcppParallel</a></li>
<li class="chapter" data-level="2.7.8" data-path="chap-utiliseR.html"><a href="chap-utiliseR.html#conclusions-sur-loptimisation-de-la-vitesse-du-code"><i class="fa fa-check"></i><b>2.7.8</b> Conclusions sur l’optimisation de la vitesse du code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chap-git.html"><a href="chap-git.html"><i class="fa fa-check"></i><b>3</b> Git et GitHub</a><ul>
<li class="chapter" data-level="3.1" data-path="chap-git.html"><a href="chap-git.html#sec:principes-git"><i class="fa fa-check"></i><b>3.1</b> Principes</a><ul>
<li class="chapter" data-level="3.1.1" data-path="chap-git.html"><a href="chap-git.html#sec:git-cds"><i class="fa fa-check"></i><b>3.1.1</b> Contrôle de source</a></li>
<li class="chapter" data-level="3.1.2" data-path="chap-git.html"><a href="chap-git.html#git-et-github"><i class="fa fa-check"></i><b>3.1.2</b> git et GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="chap-git.html"><a href="chap-git.html#créer-un-nouveau-dépôt"><i class="fa fa-check"></i><b>3.2</b> Créer un nouveau dépôt</a><ul>
<li class="chapter" data-level="3.2.1" data-path="chap-git.html"><a href="chap-git.html#a-partir-dun-projet-existant"><i class="fa fa-check"></i><b>3.2.1</b> A partir d’un projet existant</a></li>
<li class="chapter" data-level="3.2.2" data-path="chap-git.html"><a href="chap-git.html#prendre-en-compte-des-fichiers"><i class="fa fa-check"></i><b>3.2.2</b> Prendre en compte des fichiers</a></li>
<li class="chapter" data-level="3.2.3" data-path="chap-git.html"><a href="chap-git.html#valider-des-modifications"><i class="fa fa-check"></i><b>3.2.3</b> Valider des modifications</a></li>
<li class="chapter" data-level="3.2.4" data-path="chap-git.html"><a href="chap-git.html#créer-un-dépôt-vide-sur-github"><i class="fa fa-check"></i><b>3.2.4</b> Créer un dépôt vide sur GitHub</a></li>
<li class="chapter" data-level="3.2.5" data-path="chap-git.html"><a href="chap-git.html#lier-git-et-github"><i class="fa fa-check"></i><b>3.2.5</b> Lier git et GitHub</a></li>
<li class="chapter" data-level="3.2.6" data-path="chap-git.html"><a href="chap-git.html#pousser-les-premières-modifications"><i class="fa fa-check"></i><b>3.2.6</b> Pousser les premières modifications</a></li>
<li class="chapter" data-level="3.2.7" data-path="chap-git.html"><a href="chap-git.html#cloner-un-dépôt-de-github"><i class="fa fa-check"></i><b>3.2.7</b> Cloner un dépôt de GitHub</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="chap-git.html"><a href="chap-git.html#usage-courant"><i class="fa fa-check"></i><b>3.3</b> Usage courant</a><ul>
<li class="chapter" data-level="3.3.1" data-path="chap-git.html"><a href="chap-git.html#tirer-modifier-valider-pousser"><i class="fa fa-check"></i><b>3.3.1</b> Tirer, modifier, valider, pousser</a></li>
<li class="chapter" data-level="3.3.2" data-path="chap-git.html"><a href="chap-git.html#régler-les-conflits"><i class="fa fa-check"></i><b>3.3.2</b> Régler les conflits</a></li>
<li class="chapter" data-level="3.3.3" data-path="chap-git.html"><a href="chap-git.html#voir-les-différences"><i class="fa fa-check"></i><b>3.3.3</b> Voir les différences</a></li>
<li class="chapter" data-level="3.3.4" data-path="chap-git.html"><a href="chap-git.html#revenir-en-arrière"><i class="fa fa-check"></i><b>3.3.4</b> Revenir en arrière</a></li>
<li class="chapter" data-level="3.3.5" data-path="chap-git.html"><a href="chap-git.html#voir-lhistorique"><i class="fa fa-check"></i><b>3.3.5</b> Voir l’historique</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="chap-git.html"><a href="chap-git.html#sec:branches"><i class="fa fa-check"></i><b>3.4</b> Branches</a><ul>
<li class="chapter" data-level="3.4.1" data-path="chap-git.html"><a href="chap-git.html#créer-une-nouvelle-branche"><i class="fa fa-check"></i><b>3.4.1</b> Créer une nouvelle branche</a></li>
<li class="chapter" data-level="3.4.2" data-path="chap-git.html"><a href="chap-git.html#changer-de-branche"><i class="fa fa-check"></i><b>3.4.2</b> Changer de branche</a></li>
<li class="chapter" data-level="3.4.3" data-path="chap-git.html"><a href="chap-git.html#comportement-du-système-de-fichier"><i class="fa fa-check"></i><b>3.4.3</b> Comportement du système de fichier</a></li>
<li class="chapter" data-level="3.4.4" data-path="chap-git.html"><a href="chap-git.html#fusionner-avec-merge"><i class="fa fa-check"></i><b>3.4.4</b> Fusionner avec <code>merge</code></a></li>
<li class="chapter" data-level="3.4.5" data-path="chap-git.html"><a href="chap-git.html#fusionner-avec-une-requête-de-tirage"><i class="fa fa-check"></i><b>3.4.5</b> Fusionner avec une requête de tirage</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="chap-git.html"><a href="chap-git.html#usage-avancé"><i class="fa fa-check"></i><b>3.5</b> Usage avancé</a><ul>
<li class="chapter" data-level="3.5.1" data-path="chap-git.html"><a href="chap-git.html#commandes-de-git"><i class="fa fa-check"></i><b>3.5.1</b> Commandes de git</a></li>
<li class="chapter" data-level="3.5.2" data-path="chap-git.html"><a href="chap-git.html#taille-dun-dépôt"><i class="fa fa-check"></i><b>3.5.2</b> Taille d’un dépôt</a></li>
<li class="chapter" data-level="3.5.3" data-path="chap-git.html"><a href="chap-git.html#supprimer-un-dossier"><i class="fa fa-check"></i><b>3.5.3</b> Supprimer un dossier</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="chap-git.html"><a href="chap-git.html#sec:github-pages"><i class="fa fa-check"></i><b>3.6</b> Pages GitHub</a><ul>
<li class="chapter" data-level="3.6.1" data-path="chap-git.html"><a href="chap-git.html#activation"><i class="fa fa-check"></i><b>3.6.1</b> Activation</a></li>
<li class="chapter" data-level="3.6.2" data-path="chap-git.html"><a href="chap-git.html#badges"><i class="fa fa-check"></i><b>3.6.2</b> Badges</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="chap-rediger.html"><a href="chap-rediger.html"><i class="fa fa-check"></i><b>4</b> Rédiger</a><ul>
<li class="chapter" data-level="4.1" data-path="chap-rediger.html"><a href="chap-rediger.html#bloc-note-markdown-r-notebook"><i class="fa fa-check"></i><b>4.1</b> Bloc-note Markdown (R Notebook)</a></li>
<li class="chapter" data-level="4.2" data-path="chap-rediger.html"><a href="chap-rediger.html#modèles-r-markdown"><i class="fa fa-check"></i><b>4.2</b> Modèles R Markdown</a></li>
<li class="chapter" data-level="4.3" data-path="chap-rediger.html"><a href="chap-rediger.html#memo-article-bookdown"><i class="fa fa-check"></i><b>4.3</b> Memo, article : bookdown</a><ul>
<li class="chapter" data-level="4.3.1" data-path="chap-rediger.html"><a href="chap-rediger.html#sec:memo"><i class="fa fa-check"></i><b>4.3.1</b> Modèle Memo EcoFoG</a></li>
<li class="chapter" data-level="4.3.2" data-path="chap-rediger.html"><a href="chap-rediger.html#autres-modèles"><i class="fa fa-check"></i><b>4.3.2</b> Autres modèles</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="chap-rediger.html"><a href="chap-rediger.html#présentation-ecofog-bookdown"><i class="fa fa-check"></i><b>4.4</b> Présentation EcoFoG : bookdown</a></li>
<li class="chapter" data-level="4.5" data-path="chap-rediger.html"><a href="chap-rediger.html#ouvrage-ecofog-bookdown"><i class="fa fa-check"></i><b>4.5</b> Ouvrage EcoFoG : bookdown</a><ul>
<li class="chapter" data-level="4.5.1" data-path="chap-rediger.html"><a href="chap-rediger.html#créer-1"><i class="fa fa-check"></i><b>4.5.1</b> Créer</a></li>
<li class="chapter" data-level="4.5.2" data-path="chap-rediger.html"><a href="chap-rediger.html#ecrire-1"><i class="fa fa-check"></i><b>4.5.2</b> Ecrire</a></li>
<li class="chapter" data-level="4.5.3" data-path="chap-rediger.html"><a href="chap-rediger.html#tricoter-1"><i class="fa fa-check"></i><b>4.5.3</b> Tricoter</a></li>
<li class="chapter" data-level="4.5.4" data-path="chap-rediger.html"><a href="chap-rediger.html#finitions"><i class="fa fa-check"></i><b>4.5.4</b> Finitions</a></li>
<li class="chapter" data-level="4.5.5" data-path="chap-rediger.html"><a href="chap-rediger.html#sec:rediger-ouvrage-ci"><i class="fa fa-check"></i><b>4.5.5</b> Intégration continue</a></li>
<li class="chapter" data-level="4.5.6" data-path="chap-rediger.html"><a href="chap-rediger.html#google-analytics"><i class="fa fa-check"></i><b>4.5.6</b> Google Analytics</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="chap-rediger.html"><a href="chap-rediger.html#site-web-r-markdown"><i class="fa fa-check"></i><b>4.6</b> Site web R Markdown</a><ul>
<li class="chapter" data-level="4.6.1" data-path="chap-rediger.html"><a href="chap-rediger.html#modèle"><i class="fa fa-check"></i><b>4.6.1</b> Modèle</a></li>
<li class="chapter" data-level="4.6.2" data-path="chap-rediger.html"><a href="chap-rediger.html#améliorations"><i class="fa fa-check"></i><b>4.6.2</b> Améliorations</a></li>
<li class="chapter" data-level="4.6.3" data-path="chap-rediger.html"><a href="chap-rediger.html#contôle-de-source"><i class="fa fa-check"></i><b>4.6.3</b> Contôle de source</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="chap-rediger.html"><a href="chap-rediger.html#sec:blogdown"><i class="fa fa-check"></i><b>4.7</b> Site web personnel : blogdown</a><ul>
<li class="chapter" data-level="4.7.1" data-path="chap-rediger.html"><a href="chap-rediger.html#installation-des-outils"><i class="fa fa-check"></i><b>4.7.1</b> Installation des outils</a></li>
<li class="chapter" data-level="4.7.2" data-path="chap-rediger.html"><a href="chap-rediger.html#créer-2"><i class="fa fa-check"></i><b>4.7.2</b> Créer</a></li>
<li class="chapter" data-level="4.7.3" data-path="chap-rediger.html"><a href="chap-rediger.html#site-personnel-sur-github"><i class="fa fa-check"></i><b>4.7.3</b> Site personnel sur GitHub</a></li>
<li class="chapter" data-level="4.7.4" data-path="chap-rediger.html"><a href="chap-rediger.html#construction-du-site"><i class="fa fa-check"></i><b>4.7.4</b> Construction du site</a></li>
<li class="chapter" data-level="4.7.5" data-path="chap-rediger.html"><a href="chap-rediger.html#site-multilingue"><i class="fa fa-check"></i><b>4.7.5</b> Site multilingue</a></li>
<li class="chapter" data-level="4.7.6" data-path="chap-rediger.html"><a href="chap-rediger.html#paramétrer"><i class="fa fa-check"></i><b>4.7.6</b> Paramétrer</a></li>
<li class="chapter" data-level="4.7.7" data-path="chap-rediger.html"><a href="chap-rediger.html#ecrire-2"><i class="fa fa-check"></i><b>4.7.7</b> Ecrire</a></li>
<li class="chapter" data-level="4.7.8" data-path="chap-rediger.html"><a href="chap-rediger.html#sec:rediger-web-ci"><i class="fa fa-check"></i><b>4.7.8</b> Intégration continue</a></li>
<li class="chapter" data-level="4.7.9" data-path="chap-rediger.html"><a href="chap-rediger.html#mises-à-jour-1"><i class="fa fa-check"></i><b>4.7.9</b> Mises à jour</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="chap-rediger.html"><a href="chap-rediger.html#exportation-de-figures"><i class="fa fa-check"></i><b>4.8</b> Exportation de figures</a><ul>
<li class="chapter" data-level="4.8.1" data-path="chap-rediger.html"><a href="chap-rediger.html#formats-vectoriels-et-raster"><i class="fa fa-check"></i><b>4.8.1</b> Formats vectoriels et raster</a></li>
<li class="chapter" data-level="4.8.2" data-path="chap-rediger.html"><a href="chap-rediger.html#fonctions"><i class="fa fa-check"></i><b>4.8.2</b> Fonctions</a></li>
<li class="chapter" data-level="4.8.3" data-path="chap-rediger.html"><a href="chap-rediger.html#package-ragg"><i class="fa fa-check"></i><b>4.8.3</b> Package ragg</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="chap-package.html"><a href="chap-package.html"><i class="fa fa-check"></i><b>5</b> Package</a><ul>
<li class="chapter" data-level="5.1" data-path="chap-package.html"><a href="chap-package.html#premier-package"><i class="fa fa-check"></i><b>5.1</b> Premier package</a><ul>
<li class="chapter" data-level="5.1.1" data-path="chap-package.html"><a href="chap-package.html#création"><i class="fa fa-check"></i><b>5.1.1</b> Création</a></li>
<li class="chapter" data-level="5.1.2" data-path="chap-package.html"><a href="chap-package.html#première-fonction"><i class="fa fa-check"></i><b>5.1.2</b> Première fonction</a></li>
<li class="chapter" data-level="5.1.3" data-path="chap-package.html"><a href="chap-package.html#sec:package-cds"><i class="fa fa-check"></i><b>5.1.3</b> Contrôle de source</a></li>
<li class="chapter" data-level="5.1.4" data-path="chap-package.html"><a href="chap-package.html#package.r"><i class="fa fa-check"></i><b>5.1.4</b> package.R</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="chap-package.html"><a href="chap-package.html#organisation-du-package"><i class="fa fa-check"></i><b>5.2</b> Organisation du package</a><ul>
<li class="chapter" data-level="5.2.1" data-path="chap-package.html"><a href="chap-package.html#sec:package-description"><i class="fa fa-check"></i><b>5.2.1</b> Fichier DESCRIPTION</a></li>
<li class="chapter" data-level="5.2.2" data-path="chap-package.html"><a href="chap-package.html#fichier-news.md"><i class="fa fa-check"></i><b>5.2.2</b> Fichier NEWS.md</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="chap-package.html"><a href="chap-package.html#vignette-et-pkgdown"><i class="fa fa-check"></i><b>5.3</b> Vignette et pkgdown</a></li>
<li class="chapter" data-level="5.4" data-path="chap-package.html"><a href="chap-package.html#code-spécifique-aux-packages"><i class="fa fa-check"></i><b>5.4</b> Code spécifique aux packages</a><ul>
<li class="chapter" data-level="5.4.1" data-path="chap-package.html"><a href="chap-package.html#importation-de-fonctions"><i class="fa fa-check"></i><b>5.4.1</b> Importation de fonctions</a></li>
<li class="chapter" data-level="5.4.2" data-path="chap-package.html"><a href="chap-package.html#méthodes-s3"><i class="fa fa-check"></i><b>5.4.2</b> Méthodes S3</a></li>
<li class="chapter" data-level="5.4.3" data-path="chap-package.html"><a href="chap-package.html#en-pratique"><i class="fa fa-check"></i><b>5.4.3</b> En pratique</a></li>
<li class="chapter" data-level="5.4.4" data-path="chap-package.html"><a href="chap-package.html#code-c"><i class="fa fa-check"></i><b>5.4.4</b> Code C++</a></li>
<li class="chapter" data-level="5.4.5" data-path="chap-package.html"><a href="chap-package.html#package-bien-rangé"><i class="fa fa-check"></i><b>5.4.5</b> Package bien rangé</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="chap-package.html"><a href="chap-package.html#bibliographie"><i class="fa fa-check"></i><b>5.5</b> Bibliographie</a><ul>
<li class="chapter" data-level="5.5.1" data-path="chap-package.html"><a href="chap-package.html#préparation"><i class="fa fa-check"></i><b>5.5.1</b> Préparation</a></li>
<li class="chapter" data-level="5.5.2" data-path="chap-package.html"><a href="chap-package.html#citations"><i class="fa fa-check"></i><b>5.5.2</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="chap-package.html"><a href="chap-package.html#données"><i class="fa fa-check"></i><b>5.6</b> Données</a></li>
<li class="chapter" data-level="5.7" data-path="chap-package.html"><a href="chap-package.html#tests-unitaires"><i class="fa fa-check"></i><b>5.7</b> Tests unitaires</a></li>
<li class="chapter" data-level="5.8" data-path="chap-package.html"><a href="chap-package.html#fichier-.gitignore"><i class="fa fa-check"></i><b>5.8</b> Fichier .gitignore</a></li>
<li class="chapter" data-level="5.9" data-path="chap-package.html"><a href="chap-package.html#sec:package-ci5"><i class="fa fa-check"></i><b>5.9</b> Intégration continue</a></li>
<li class="chapter" data-level="5.10" data-path="chap-package.html"><a href="chap-package.html#cran"><i class="fa fa-check"></i><b>5.10</b> CRAN</a><ul>
<li class="chapter" data-level="5.10.1" data-path="chap-package.html"><a href="chap-package.html#test-du-package"><i class="fa fa-check"></i><b>5.10.1</b> Test du package</a></li>
<li class="chapter" data-level="5.10.2" data-path="chap-package.html"><a href="chap-package.html#soumission"><i class="fa fa-check"></i><b>5.10.2</b> Soumission</a></li>
<li class="chapter" data-level="5.10.3" data-path="chap-package.html"><a href="chap-package.html#maintenance"><i class="fa fa-check"></i><b>5.10.3</b> Maintenance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="chap-ci.html"><a href="chap-ci.html"><i class="fa fa-check"></i><b>6</b> Intégration continue</a><ul>
<li class="chapter" data-level="6.1" data-path="chap-ci.html"><a href="chap-ci.html#outils"><i class="fa fa-check"></i><b>6.1</b> Outils</a><ul>
<li class="chapter" data-level="6.1.1" data-path="chap-ci.html"><a href="chap-ci.html#github-actions"><i class="fa fa-check"></i><b>6.1.1</b> GitHub Actions</a></li>
<li class="chapter" data-level="6.1.2" data-path="chap-ci.html"><a href="chap-ci.html#codecov"><i class="fa fa-check"></i><b>6.1.2</b> Codecov</a></li>
<li class="chapter" data-level="6.1.3" data-path="chap-ci.html"><a href="chap-ci.html#github-pages"><i class="fa fa-check"></i><b>6.1.3</b> GitHub Pages</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="chap-ci.html"><a href="chap-ci.html#principes"><i class="fa fa-check"></i><b>6.2</b> Principes</a><ul>
<li class="chapter" data-level="6.2.1" data-path="chap-ci.html"><a href="chap-ci.html#sec:pat"><i class="fa fa-check"></i><b>6.2.1</b> Obtention d’un jeton d’accès personnel</a></li>
<li class="chapter" data-level="6.2.2" data-path="chap-ci.html"><a href="chap-ci.html#sec:secrets-ci"><i class="fa fa-check"></i><b>6.2.2</b> Secrets du projet</a></li>
<li class="chapter" data-level="6.2.3" data-path="chap-ci.html"><a href="chap-ci.html#activation-du-dépôt-sur-codecov"><i class="fa fa-check"></i><b>6.2.3</b> Activation du dépôt sur CodeCov</a></li>
<li class="chapter" data-level="6.2.4" data-path="chap-ci.html"><a href="chap-ci.html#scripter-les-actions-de-github"><i class="fa fa-check"></i><b>6.2.4</b> Scripter les actions de GitHub</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="chap-ci.html"><a href="chap-ci.html#modèles-de-scripts"><i class="fa fa-check"></i><b>6.3</b> Modèles de scripts</a><ul>
<li class="chapter" data-level="6.3.1" data-path="chap-ci.html"><a href="chap-ci.html#sec:bookdown-ci"><i class="fa fa-check"></i><b>6.3.1</b> Projet d’ouvrage</a></li>
<li class="chapter" data-level="6.3.2" data-path="chap-ci.html"><a href="chap-ci.html#sec:rmarkdown-ci"><i class="fa fa-check"></i><b>6.3.2</b> Mémos et présentatons</a></li>
<li class="chapter" data-level="6.3.3" data-path="chap-ci.html"><a href="chap-ci.html#sec:blogdown-ci"><i class="fa fa-check"></i><b>6.3.3</b> Site web blogdown</a></li>
<li class="chapter" data-level="6.3.4" data-path="chap-ci.html"><a href="chap-ci.html#sec:package-ci6"><i class="fa fa-check"></i><b>6.3.4</b> Packages R</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="chap-ci.html"><a href="chap-ci.html#sec:ci-badges"><i class="fa fa-check"></i><b>6.4</b> Ajouter des badges</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="chap-shiny.html"><a href="chap-shiny.html"><i class="fa fa-check"></i><b>7</b> Shiny</a><ul>
<li class="chapter" data-level="7.1" data-path="chap-shiny.html"><a href="chap-shiny.html#première-application"><i class="fa fa-check"></i><b>7.1</b> Première application</a></li>
<li class="chapter" data-level="7.2" data-path="chap-shiny.html"><a href="chap-shiny.html#application-plus-élaborée"><i class="fa fa-check"></i><b>7.2</b> Application plus élaborée</a><ul>
<li class="chapter" data-level="7.2.1" data-path="chap-shiny.html"><a href="chap-shiny.html#méthode-de-travail"><i class="fa fa-check"></i><b>7.2.1</b> Méthode de travail</a></li>
<li class="chapter" data-level="7.2.2" data-path="chap-shiny.html"><a href="chap-shiny.html#exemple"><i class="fa fa-check"></i><b>7.2.2</b> Exemple</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="chap-shiny.html"><a href="chap-shiny.html#sec:hebergement-shiny"><i class="fa fa-check"></i><b>7.3</b> Hébergement</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="chap-enseigner.html"><a href="chap-enseigner.html"><i class="fa fa-check"></i><b>8</b> Enseigner avec R</a><ul>
<li class="chapter" data-level="8.1" data-path="chap-enseigner.html"><a href="chap-enseigner.html#learnr"><i class="fa fa-check"></i><b>8.1</b> learnr</a><ul>
<li class="chapter" data-level="8.1.1" data-path="chap-enseigner.html"><a href="chap-enseigner.html#premier-tutoriel"><i class="fa fa-check"></i><b>8.1.1</b> Premier tutoriel</a></li>
<li class="chapter" data-level="8.1.2" data-path="chap-enseigner.html"><a href="chap-enseigner.html#diffusion"><i class="fa fa-check"></i><b>8.1.2</b> Diffusion</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="chap-enseigner.html"><a href="chap-enseigner.html#github-classrooms"><i class="fa fa-check"></i><b>8.2</b> GitHub Classrooms</a><ul>
<li class="chapter" data-level="8.2.1" data-path="chap-enseigner.html"><a href="chap-enseigner.html#inscription"><i class="fa fa-check"></i><b>8.2.1</b> Inscription</a></li>
<li class="chapter" data-level="8.2.2" data-path="chap-enseigner.html"><a href="chap-enseigner.html#organisations"><i class="fa fa-check"></i><b>8.2.2</b> Organisations</a></li>
<li class="chapter" data-level="8.2.3" data-path="chap-enseigner.html"><a href="chap-enseigner.html#nouvelle-salle-de-classe"><i class="fa fa-check"></i><b>8.2.3</b> Nouvelle salle de classe</a></li>
<li class="chapter" data-level="8.2.4" data-path="chap-enseigner.html"><a href="chap-enseigner.html#préparer-un-modèle-de-dépôt"><i class="fa fa-check"></i><b>8.2.4</b> Préparer un modèle de dépôt</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="chap-conclusion.html"><a href="chap-conclusion.html"><i class="fa fa-check"></i><b>9</b> Conclusion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/EricMarcon/travailleR" target="blank">Hébergé sur GitHub, publié par bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Travailler avec R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="chap:git" class="section level1">
<h1><span class="header-section-number">3</span> Git et GitHub</h1>
<p>Le contrôle de source consiste à enregistrer l’ensemble des modifications apportées sur les fichiers suivis.
Les avantages sont nombreux: traçabilité et sécurité du projet, possibilité de collaborer efficacement, de revenir en arrière, de tenter de nouveaux développements sans mettre en péril la version stable…</p>
<div id="sec:principes-git" class="section level2">
<h2><span class="header-section-number">3.1</span> Principes</h2>
<div id="sec:git-cds" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Contrôle de source</h3>
<p>L’outil standard est aujourd’hui <em>git</em>.</p>
<p>Les commandes de git peuvent être exécutées dans le terminal de RStudio.</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Status"></span>
<img src="images/git-Status.png" alt="Capture d’écran du terminal de RStudio. La commande git status supposée décrire l’état du dépôt renvoie une erreur si le projet R n’est pas sous contrôle de source." width="80%" />
<p class="caption">
Figure 3.1: Capture d’écran du terminal de RStudio. La commande <code>git status</code> supposée décrire l’état du dépôt renvoie une erreur si le projet R n’est pas sous contrôle de source.
</p>
</div>
<p></p>
<p>La commande <code>git status</code> (figure <a href="chap-git.html#fig:git-Status">3.1</a>) retourne l’état du dépôt (<em>repository</em>), c’est-à-dire l’ensemble des données gérées par git pour suivre le projet en cours.</p>
<p>RStudio intègre une interface graphique pour git suffisante pour se passer de la ligne de commande dans le cadre d’une utilisation standard, présentée ici.</p>
</div>
<div id="git-et-github" class="section level3">
<h3><span class="header-section-number">3.1.2</span> git et GitHub</h3>
<p><em>git</em> est le logiciel installé sur le poste de travail.</p>
<p><em>GitHub</em> est une plateforme, accessible par le web<a href="#fn22" class="footnote-ref" id="fnref22"><sup>22</sup></a>, qui permet de partager le contenu des dépôts git (pour travailler à plusieurs) et de partager de la documentation sous la forme d’un site web (<em>GitHub Pages</em>).</p>
<p>Comme GitHub permet au minimum la sauvegarde des dépôts git, les deux sont toujours utilisés ensemble.
GitHub n’est pas la seule plateforme utilisable mais la principale. Les alternatives sont Bitbucket<a href="#fn23" class="footnote-ref" id="fnref23"><sup>23</sup></a> et GitLab<a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a> par exemple.</p>
</div>
</div>
<div id="créer-un-nouveau-dépôt" class="section level2">
<h2><span class="header-section-number">3.2</span> Créer un nouveau dépôt</h2>
<div id="a-partir-dun-projet-existant" class="section level3">
<h3><span class="header-section-number">3.2.1</span> A partir d’un projet existant</h3>
<p>Dans un projet R existant, activer le contrôle de source dans les options du projet (figure <a href="chap-git.html#fig:git-Project">3.2</a>).
La commande exécutée est <code>git init</code>.
Redémarrer RStudio à la demande.</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Project"></span>
<img src="images/git-Project.png" alt="Activation du contrôle de source dans le menu “Tools &gt; Project Options…”." width="80%" />
<p class="caption">
Figure 3.2: Activation du contrôle de source dans le menu “Tools &gt; Project Options…”.
</p>
</div>
<p></p>
<p>Une nouvelle fenêtre <em>Git</em> apparaît dans le panneau supérieur droit.
Elle contient la liste des fichiers du projet (figure <a href="chap-git.html#fig:git-Fichiers">3.3</a>).</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Fichiers"></span>
<img src="images/git-Fichiers.png" alt="Fichiers du projet, pas encore pris en compte par git." width="80%" />
<p class="caption">
Figure 3.3: Fichiers du projet, pas encore pris en compte par git.
</p>
</div>
<p></p>
<p>A ce stade, les fichiers ne sont pas pris en compte par git: leur statut est un double point d’interrogation jaune.
Pour git, le répertoire de travail local est un <em>bac à sable</em> où toutes les modifications sont possibles sans conséquences.</p>
<p>Le fichier <code>.gitignore</code> contient la liste des fichiers qui n’ont jamais vocation à être pris en compte, qu’il est donc inutile d’afficher dans la liste: les fichiers intermédiaires produits automatiquement par exemple.
La syntaxe des fichiers <code>.gitignore</code> est détaillée dans la documentation de git<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a>.
En règle générale, utiliser un fichier existant: les modèles de documents notamment incluent leur fichier <code>.gitignore</code>.</p>
</div>
<div id="prendre-en-compte-des-fichiers" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Prendre en compte des fichiers</h3>
<p>Dans la fenêtre git, cocher la case <em>Staged</em> permet de prendre en compte (<em>Stage</em>) chaque fichier.
La commande exécutée est <code>git add &lt;NomDeFichier&gt;</code>.
Les fichiers pris en compte une première fois ont le statut “A” pour “Added”.</p>
<p>Les fichiers pris en compte font partie de l’<em>index</em> de git.</p>
</div>
<div id="valider-des-modifications" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Valider des modifications</h3>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Commit"></span>
<img src="images/git-Commit.png" alt="Fenêtre de validation des modifications prises en compte." width="80%" />
<p class="caption">
Figure 3.4: Fenêtre de validation des modifications prises en compte.
</p>
</div>
<p></p>
<p>Les fichiers pris en compte peuvent être validés (<em>Commit</em>) en cliquant sur le bouton <em>Commit</em> dans la fenêtre <em>Git</em>.
Une nouvelle fenêtre s’ouvre (figure <a href="chap-git.html#fig:git-Commit">3.4</a>), qui permet de visualiser toutes les modifications par fichier (ajouts en verts, suppressions en rouge).
Le grain de modification traité par git est la ligne de texte, terminée par un retour à la ligne.
Les fichiers binaires comme les images sont traités en bloc.</p>
<p>Chaque validation (<em>Commit</em>) est accompagnée d’un texte de description.
La première ligne est la description courte.
Une description détaillée peut être ajoutée après un saut de ligne.
Pour la lisibilité de l’historique du projet, chaque <em>commit</em> correspond donc à une action, correspondant à la description courte: tous les fichiers modifiés ne sont pas forcément pris en compte et validés en une fois.
La commande exécutée est <code>git commit -m "Message de validation"</code>.</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-id"></span>
<img src="images/git-id.png" alt="Fenêtre de demande d’indentification." width="80%" />
<p class="caption">
Figure 3.5: Fenêtre de demande d’indentification.
</p>
</div>
<p></p>
<p>Les validations sont liées à leur auteur, qui doit être identifié par git.
En règle générale, git utilise les informations du système.
S’il n’y parvient pas, une fenêtre demande à l’utilisateur de s’identifier avant d’effectuer son premier <em>commit</em> (figure <a href="chap-git.html#fig:git-id">3.5</a>).
Les commandes indiquées sont à exécuter dans le terminal de RStudio.
Elles peuvent aussi être utilisées pour vérifier les valeurs connues par git:</p>
<pre><code>git config user.name
git config user.email</code></pre>
<p>Dès la première validation, la branche principale du dépôt, appelée “master”, est créée.
Une branche est une version du dépôt, avec son propre historique et donc ses propres fichiers.
Les branches permettent:
* de développer de nouvelles fonctionnalités dans un projet, sans perturber la branche principale qui peut contenir une version stable. Si le développement est retenu, sa branche pourra être fusionnée avec la branche <em>master</em> pour constituer une nouvelle version stable.
* de contenir des fichiers totalement différents de ceux de la branche principale, pour d’autres objectifs. Sur GitHub, les pages web de présentation du projet peuvent être placés dans une branche appelée “gh-pages” qui ne sera jamais fusionnée.</p>
<p>Le dépôt git est complètement constitué.
Dans le vocabulaire de git, il comprend trois <em>arbres</em> (figure <a href="chap-git.html#fig:git-Trees">3.6</a>):</p>
<ul>
<li>le répertoire de travail, ou bac à sable, qui contient les fichiers non pris en compte: inconnus, modifiés, supprimés ou renommés (case <em>Staged</em> décochée);</li>
<li>l’index, qui contient les fichiers pris en compte (case <em>Staged</em> cochée);</li>
<li>la tête, qui contient les fichiers validés.</li>
</ul>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Trees"></span>
<img src="images/git-Trees.png" alt="Les trois arbres de git. Source: https://rogerdudler.github.io/git-guide/index.fr.html" width="80%" />
<p class="caption">
Figure 3.6: Les trois arbres de git. Source: <a href="https://rogerdudler.github.io/git-guide/index.fr.html" class="uri">https://rogerdudler.github.io/git-guide/index.fr.html</a>
</p>
</div>
<p></p>
<p>Le statut des fichiers est représenté par deux icônes dans la fenêtre <em>Git</em> de RStudio: deux points d’interrogation quand ils n’ont pas été pris en compte par git.
Ensuite, l’icône de droite décrit la différence entre le le répertoire de travail et l’index.
Celle de gauche décrit la différence entre l’index et la tête.
Un fichier modifié aura donc l’icône <code>M</code> affichée à droite avant d’être pris en compte, puis à gauche après prise en compte.
Il est possible, même s’il vaut mieux l’éviter, de modifier à nouveau un fichier pris en compte avant qu’il soit validé: alors, les deux icônes seront affichées.</p>
</div>
<div id="créer-un-dépôt-vide-sur-github" class="section level3">
<h3><span class="header-section-number">3.2.4</span> Créer un dépôt vide sur GitHub</h3>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:CreateRepo"></span>
<img src="images/CreateRepo.png" alt="Création d’un dépôt sur GitHub." width="80%" />
<p class="caption">
Figure 3.7: Création d’un dépôt sur GitHub.
</p>
</div>
<p></p>
<p>Un dépôt vide sur GitHub doit être créé (figure <a href="chap-git.html#fig:CreateRepo">3.7</a>):</p>
<ul>
<li>Sur GitHub, cliquer sur le bouton vert <em>New repository</em>.</li>
<li>Saisir le nom du dépôt, identique à celui du projet R local.</li>
<li>Ajouter une description, qui apparaîtra uniquement sur la page GitHub du dépôt.</li>
<li>Choisir le statut du dépôt:
<ul>
<li>Public: visible par tout le monde</li>
<li>Privé: visible seulement par les collaborateurs du projet, ce qui exclut de compléter par des pages web de présentation.</li>
</ul></li>
<li>Ne pas ajouter de <code>README</code>, <code>.gitignore</code> ou licence: le projet doit être vide.</li>
<li>Cliquer sur “create Repository”.</li>
<li>Copier l’adresse du dépôt (<a href="https://github.com/" class="uri">https://github.com/</a>…)</li>
</ul>
</div>
<div id="lier-git-et-github" class="section level3">
<h3><span class="header-section-number">3.2.5</span> Lier git et GitHub</h3>
<p>Dans RStudio, un premier <em>commit</em> doit au moins avoir eu lieu pour que la branche principale du projet, nommée “master”, existe.
En haut à droite de la fenêtre <em>Git</em> (figure <a href="chap-git.html#fig:git-Fichiers">3.3</a>), il est affiché “(no branch)” avant cela.
Ensuite, il est affiché “master”, le nom par défaut de la branche principale du projet.
Le projet peut alors être lié au dépôt GitHub.</p>
<p>Cliquer sur le bouton violet à côté de “master”: une fenêtre apparaît (habituellement utilisée pour la création d’une nouvelle branche, voir section <a href="chap-git.html#sec:branches">3.4</a>).
Saisir le nom de la branche “master”, cliquer sur “Add Remotes” et compléter:</p>
<ul>
<li>Remote Name: <code>origin</code>;</li>
<li>Remote URL: coller l’adresse du dépôt GitHub;</li>
<li>Cliquer sur <em>Add</em>.</li>
</ul>
<p>Cocher la case “Sync with Remote”.</p>
<p>Au message indiquant qu’une branche <em>master</em> existe déjà, cliquer sur “Overwrite”.</p>
<p>Le nom <em>origin</em> est une convention de git.
Il peut être modifié mais l’organisation du projet sera plus lisible en respectant la convention.</p>
<p>A la première connexion de RStudio à GitHub, une fenêtre d’authentification permet de saisir ses identifiants GitHub (figure <a href="chap-git.html#fig:git-PAT">3.8</a>).</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-PAT"></span>
<img src="images/git-PAT.png" alt="Création d’un dépôt sur GitHub." width="80%" />
<p class="caption">
Figure 3.8: Création d’un dépôt sur GitHub.
</p>
</div>
<p></p>
<p>GitHub délivre un jeton d’accès personnel (PAT) à git (voir section <a href="chap-ci.html#sec:pat">6.2.1</a> pour plus de détails) pour éviter de répéter la saisie des informations d’authentification à chaque opération.
Un message électronique est envoyé au titulaire du compte GitHub pour l’en avertir.</p>
</div>
<div id="pousser-les-premières-modifications" class="section level3">
<h3><span class="header-section-number">3.2.6</span> Pousser les premières modifications</h3>
<p>La manipulation précédente a automatiquement poussé (<em>Push</em>) les modifications validées sur GitHub.
Par la suite, il faudra cliquer sur le bouton <em>Push</em> de la fenêtre <em>Git</em> pour le faire.</p>
<p>Sur GitHub, les fichiers résultant des modifications enregistrées par git sont maintenant visibles.</p>
<p>Chaque <em>commit</em> réalisé localement est compté par git et un message “Your branch is ahead of ‘origin/master’ by <em>n</em> commits” affiché dans en haut de la fenêtre <em>Git</em> indique qu’il est temps de mettre à jour GitHub en poussant l’ensemble de ces <em>commits</em>.
Cliquer sur le bouton <em>Push</em> pour le faire.</p>
<p>A ce stade, le projet doit disposer d’un fichier <code>README.md</code> qui présente son contenu sur GitHub.
Son contenu minimal est un titre et quelques lignes de description:</p>
<pre><code># Nom du Projet

Description en quelques lignes.
</code></pre>
<p>Il est conseillé d’utiliser des badges,<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a> à placer juste après le titre, pour déclarer l’état de maturité du projet, par exemple:</p>
<pre><code>![stability-wip](https://img.shields.io/badge/|&gt;
stability-work_in_progress-lightgrey.svg)</code></pre>
</div>
<div id="cloner-un-dépôt-de-github" class="section level3">
<h3><span class="header-section-number">3.2.7</span> Cloner un dépôt de GitHub</h3>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Clone"></span>
<img src="images/git-Clone.png" alt="Création d’un dépôt sur GitHub." width="80%" />
<p class="caption">
Figure 3.9: Création d’un dépôt sur GitHub.
</p>
</div>
<p></p>
<p>Tout dépôt sur GitHub peut être installé (on dit <em>cloné</em>) sur le poste de travail en copiant son adresse qui apparaît en cliquant sur le bouton vert (figure <a href="chap-git.html#fig:git-Clone">3.9</a>).</p>
<p>Dans RStudio, créer un nouveau projet et, dans l’assistant, choisir “Version Control”, “Git” et coller l’adresse dans le champ “Repository URL”.
Le nom répertoire à créer pour le projet est déduit automatiquement de l’adresse.
Choisir le répertoire dans lequel celui du projet va être créé et cliquer sur “Create Project”.
Le projet créé est lié au dépôt distant sur GitHub.</p>
<p>Pour travailler à plusieurs sur le même projet, le propriétaire du projet doit donner l’accès au projet à des collaborateurs (figure <a href="chap-git.html#fig:git-Access">3.10</a>), c’est-à-dire d’autres utilisateurs GitHub dans les réglages du dépôt (<em>Settings</em>).</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-Access"></span>
<img src="images/git-Access.png" alt="Création d’un dépôt sur GitHub." width="80%" />
<p class="caption">
Figure 3.10: Création d’un dépôt sur GitHub.
</p>
</div>
<p></p>
<p>Les collaborateurs sont invités par un message envoyé par <em>GitHub</em>.</p>
</div>
</div>
<div id="usage-courant" class="section level2">
<h2><span class="header-section-number">3.3</span> Usage courant</h2>
<div id="tirer-modifier-valider-pousser" class="section level3">
<h3><span class="header-section-number">3.3.1</span> Tirer, modifier, valider, pousser</h3>
<p>Toute séance de travail sur un projet commence en tirant (Bouton <em>Pull</em>) de la fenêtre <em>Git</em> pour intégrer au dépôt local les mises à jour effectuées sur GitHub par d’autres collaborateurs.</p>
<p>Les modifications apportées aux fichiers du projet sont ensuite prises en compte (cocher les cases <em>Staged</em>) et validées (<em>Commit</em>) avec un message explicatif.
Une bonne pratique consiste à valider les modifications à chaque fois qu’une tâche élémentaire, qui peut être décrite dans le message explicatif, est terminée plutôt que d’effectuer des <em>commits</em> regroupant de nombreux changements avec une description vague.</p>
<p>Dès que possible, pousser (<em>Push</em>) les mises à jour pour qu’elles soient visibles par les collaborateurs.</p>
</div>
<div id="régler-les-conflits" class="section level3">
<h3><span class="header-section-number">3.3.2</span> Régler les conflits</h3>
<p>Il n’est pas possible de pousser les modifications validées si un collaborateur a modifié le dépôt distant sur GitHub.
Il faut alors les tirer pour les intégrer au dépôt local avant de pousser les modifications fusionnées.</p>
<p>Un conflit a lieu si un <em>Pull</em> importe dans le fichier local une modification qui ne peut pas être fusionnée automatiquement parce qu’une modification contradictoire a eu lieu localement.
Git considère chaque ligne comme un élément indivisible: la modification de la même ligne sur le dépôt distant et le dépôt local génère donc un conflit.</p>
<p>Git insère dans le fichier contenant un conflit les deux versions avec une présentation particulière:</p>
<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD # Version importée du conflit
Lignes en conflit, version importée
========= # limite entre les deux versions
Lignes en conflit, version locale
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; # Fin du conflit</code></pre>
<p>Les lignes de formatage contenant les <code>&lt;&lt;&lt;&lt;</code>, les <code>====</code> et les <code>&gt;&gt;&gt;&gt;</code> doivent être supprimés et une seule version des lignes problématiques conservée, qui peut être différente des deux versions originales.
La résolution du conflit doit être prise en compte et validée.</p>
<p>Pour limiter les conflits dans un document contenant du texte (typiquement, un document R Markdown), une bonne pratique consiste à traiter chaque phrase comme une ligne, terminée par un retour à la ligne qui ne sera pas visible dans le document mis en forme: un saut de ligne est nécessaire pour séparer les paragraphes.</p>
</div>
<div id="voir-les-différences" class="section level3">
<h3><span class="header-section-number">3.3.3</span> Voir les différences</h3>
<p>Dans la fenêtre <em>Git</em> de RStudio, le menu contextuel (affiché par un clic droit) “Diff” peut être utilisé pour afficher les modifications apportées à chaque fichier (figure <a href="chap-git.html#fig:git-diff">3.11</a>).</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-diff"></span>
<img src="images/git-diff.png" alt="Différences entre le répertoire de travail et la tête." width="80%" />
<p class="caption">
Figure 3.11: Différences entre le répertoire de travail et la tête.
</p>
</div>
<p></p>
</div>
<div id="revenir-en-arrière" class="section level3">
<h3><span class="header-section-number">3.3.4</span> Revenir en arrière</h3>
<p>Le menu contextuel “Revert” permet d’annuler toutes les modifications apportées à un fichier (affichées par <em>Diff</em>) et de rétablir son contenu validé la dernière fois (son état dans la tête).</p>
<p>Il n’est pas simple de revenir en arrière au-delà de la dernière validation parce que les modifications ont pu être prises en compte par des collaborateurs: leur suppression rendrait le projet incohérent.</p>
</div>
<div id="voir-lhistorique" class="section level3">
<h3><span class="header-section-number">3.3.5</span> Voir l’historique</h3>
<p>Le bouton en forme d’horloge de la fenêtre <em>Git</em> de RStudio affiche l’historique du projet (figure <a href="chap-git.html#fig:git-historique">3.12</a>).</p>

<p></p>
<div class="figure" style="text-align: center"><span id="fig:git-historique"></span>
<img src="images/git-historique.png" alt="Historique des validations dans le dépôt." width="80%" />
<p class="caption">
Figure 3.12: Historique des validations dans le dépôt.
</p>
</div>
<p></p>
<p>En haut se trouve la tête, puis toutes les validations (<em>commits</em>) qui l’ont constituée.
Pour chaque validation, les différences de chaque fichier peuvent être affichées en cliquant sur le nom du fichier dans la partie basse de la fenêtre.</p>
</div>
</div>
<div id="sec:branches" class="section level2">
<h2><span class="header-section-number">3.4</span> Branches</h2>
<p>Les branches d’un projet sont des versions différentes mais simultanées.
Un usage typique est le développement d’une nouvelle fonctionnalité.
Si son écriture prend du temps, le projet est perturbé par le chantier en cours: le code peut ne plus fonctionner.
Si le développement s’avère impossible ou inutile, il faut pouvoir l’abandonner sans dommage.
Pour l’isoler pendant sa réalisation et se permettre de le valider ou de l’abandonner à la fin, il faut le placer dans une branche.</p>
<p>La branche principale du projet s’appelle “master” ou “main” à partir de novembre 2020<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a>.
Elle doit toujours être dans un état stable: c’est elle qui est clonée à partir de GitHub par d’autres utilisateurs éventuels.</p>
<p>Le changement de convention pour le nom de la branche “master” fait qu’à partir de novembre 2020, les projets créés sur GitHub clonés dans RStudio ont pour branche principale “main” alors que les projets créés sur RStudio puis liés à GitHub conservent le nom “master”.</p>
<div id="créer-une-nouvelle-branche" class="section level3">
<h3><span class="header-section-number">3.4.1</span> Créer une nouvelle branche</h3>
<p>Cliquer sur le bouton violet <em>New Branch</em> dans la fenêtre <em>git</em> de RStudio.
Saisir son nom et cliquer sur <em>Create</em>.</p>
<p>La nouvelle branche est maintenant active.</p>
<p>Les commandes git peuvent aussi être exécutées dans le terminal (pour créer la branche et l’activer):</p>
<pre><code>git branch new_branch
git checkout new_branch</code></pre>
</div>
<div id="changer-de-branche" class="section level3">
<h3><span class="header-section-number">3.4.2</span> Changer de branche</h3>
<p>Sélectionner la branche à activer dans la liste des branches locales de la la fenêtre <em>git</em>.</p>
<p>Les <em>commits</em> s’appliquent à la branche active.
Chaque branche se comporte comme une version différente du projet.</p>
<p>Attention: pour éviter la confusion, sauvegarder les modifications, prendre en compte et valider les changements avant de changer de branche.</p>
</div>
<div id="comportement-du-système-de-fichier" class="section level3">
<h3><span class="header-section-number">3.4.3</span> Comportement du système de fichier</h3>
<p>A chaque changement de branche, git réécrit les fichiers du projet pour qu’ils reflètent l’état de la branche.
Les changements peuvent être observés hors de RStudio, dans l’explorateur de fichier par exemple.</p>
<p>Les fichiers ignorés par <code>.gitignore</code> ne sont pas modifiés.
Il est donc indispensable que les fichiers <code>.gitignore</code> des différentes branches soit identiques, sinon des fichiers ignorés dans une branche apparaîtront comme ajoutés dans la branche affichée après un changement.</p>
<p>Les branches de développement ont un contenu proche de celui de la branche principale.
Ce n’est pas le cas de branches spécialisées vues plus loin, comme <code>gh-pages</code> (voir section <a href="chap-git.html#sec:github-pages">3.6</a>) qui contient le site web de présentation du dépôt.
Il est préférable de ne pas tenter d’afficher ces branches dans RStudio: leur contenu est produit automatiquement et ne doit pas être modifié manuellement.
Si c’est indispensable, il faudra y copier le fichier <code>.gitignore</code> de la branche principale et garder à l’esprit que les fichiers ignorés appartiennent en réalité à une autre branche que celle affichée.</p>
</div>
<div id="fusionner-avec-merge" class="section level3">
<h3><span class="header-section-number">3.4.4</span> Fusionner avec <code>merge</code></h3>
<p>La fusion d’une branche de développement avec la branche principale marque l’atteinte de son objectif: son code va être intégré au projet.
L’interface graphique de RStudio ne prévoit pas les fusions, il faut donc utiliser le terminal: tout d’abord, se placer dans la branche cible (possible avec l’interface graphique):</p>
<pre><code>git checkout master</code></pre>
<p>Ensuite, fusionner:</p>
<pre><code>git merge new_branch</code></pre>
<p>Dans la majorité des situations, la fusion sera automatique (“Fast Forward”).
Il est possible que des conflits apparaissent: utiliser la commande <code>git status</code> pour afficher la liste des fichiers concernés, les ouvrir, régler le confit et effectuer un <em>commit</em>.</p>
<p>La branche fusionnée n’est pas supprimée: elles peut être utilisée à nouveau pour d’autres développements ou supprimée manuellement avec la commande suivante:</p>
<pre><code>git branch -d new_branch</code></pre>
</div>
<div id="fusionner-avec-une-requête-de-tirage" class="section level3">
<h3><span class="header-section-number">3.4.5</span> Fusionner avec une requête de tirage</h3>
<p>L’autre façon de fusionner est plus formelle mais aussi plus générale: elle permet de fusionner une branche dans un dépôt d’un autre utilisateur pour y contribuer, ou de faire valider sa branche par un autre membre de l’équipe dans un projet collaboratif.</p>
<p>Pour contribuer au projet d’un autre utilisateur de GitHub<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a>, il faut commencer par en créer un <em>fork</em>, c’est-à-dire une copie sous la forme d’un dépôt lié à l’original.
Il sera possible de tirer les modifications de l’original pour rester à jour<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a> (par opposition à une simple copie instantanée possible en téléchargeant un Zip du projet) et, à la fin du développement, de fusionner le <em>fork</em> au dépôt original (par opposition à un clone qui ne permettrait pas de contribuer par la suite).</p>
<p>Ensuite, il faut créer une branche de développement comme précédemment, la modifier et finalement demander au propriétaire du dépôt de la fusionner.
Ce processus est décrit en détail dans la documentation de git .</p>
<p>Dans le cadre plus simple d’une branche de son propre projet comme dans le cas d’un <em>fork</em>, la branche de développement est prête à être fusionnée.
Elle doit avoir être poussée sur GitHub.
Sur la page GitHub du projet, un bouton <em>Create Pull Request</em> permet de demander la fusion.
Un message décrivant les modifications proposées avec leur argumentaire doit être ajouté.</p>
<p>Le propriétaire du projet (les membres de l’équipe dans le cadre d’un projet collaboratif, ou soi-même si l’équipe se réduit à une personne) est averti de la requête de tirage.
Sur la page du projet original, il est possible de voir le message, la liste des modifications (chronologie des <em>commits</em> ou comparaison des fichiers), d’engager un discussion avec l’auteur de la requête…
Si la requête n’est pas retenue, elle peut être fermée.
Si elle est validée, le bouton <em>Merge Pull Request</em> permet de fusionner la branche de développement avec la branche “master” (ou une autre) du projet source.</p>
<p>Les requêtes de tirage sont le seul moyen de contribuer à un dépôt sur lequel on ne dispose pas de droits d’écriture.
C’est aussi le moyen de fusionner une branche de développement dans sont propre projet en en gardant une trace explicite (dans la rubrique <em>Pull requests</em> de la page GitHub du projet).
Dans le cadre d’un projet collaboratif, les propositions d’un membre (auteur de la requête) peuvent être validées par un autre (qui accepte la fusion).</p>
</div>
</div>
<div id="usage-avancé" class="section level2">
<h2><span class="header-section-number">3.5</span> Usage avancé</h2>
<div id="commandes-de-git" class="section level3">
<h3><span class="header-section-number">3.5.1</span> Commandes de git</h3>
<p>Au-delà de l’usage courant permis par l’interface graphique de RStudio, des manipulations avancées des projets sont permises en utilisant git en ligne de commande.
Quelques exemples utiles sont présentés ici.</p>
<p>Un petit guide des commandes est proposé par Roger Dudler<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a>.
Il résume les commandes essentielles, donc intégrées à l’interface graphique de RStudio.
Des liens vers des références plus complètes sont donnés en bas de la page.</p>
</div>
<div id="taille-dun-dépôt" class="section level3">
<h3><span class="header-section-number">3.5.2</span> Taille d’un dépôt</h3>
<p>Pour connaître l’espace disque occupé par un dépôt, utiliser la commande <code>git count-objects -vH</code><a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a>.</p>
<p>Les données pour ce document au stade de la rédaction sont présentées à titre d’exemple.</p>
<pre><code>$ git count-objects -v
count: 200
size: 2.66 MiB
in-pack: 0
packs: 0
size-pack: 0
prune-packable: 0
garbage: 0
size-garbage: 0</code></pre>
<p>La taille totale est sur la ligne <em>size</em>.
Les packs sont une méthode utilisée par git pour réduire la taille du dépôt: des fichiers similaires sont stockés sous la forme d’une partie commune et de différences.
La ligne <em>prune-packable</em> donne la taille d’objets stockés à la fois sous forme individuelle et dans des packs.
Si leur taille est importante, exécuter <code>git prune-packed</code> pour la ramener à zéro.</p>
<p>La ligne <em>size-garbage</em> donne la taille des objets qui peuvent être supprimés.
<code>git gc</code> les supprime, mais pas seulement: il optimise le stockage.</p>
<pre><code>$ git gc
Enumerating objects: 194, done.
Counting objects: 100% (194/194), done.
Delta compression using up to 8 threads
Compressing objects: 100% (188/188), done.
Writing objects: 100% (194/194), done.
Total 194 (delta 83), reused 0 (delta 0)

$ git count-objects -vH
count: 1
size: 5.72 KiB
in-pack: 194
packs: 1
size-pack: 4.00 MiB
prune-packable: 0
garbage: 0
size-garbage: 0 bytes</code></pre>
<p>Ici, la majorité des objets du dépôt a été placée dans un pack (mais sa taille est supérieure à celle des objets individuels).</p>
<p>Il est généralement inutile d’effectuer la collecte des déchets manuellement: git gère bien l’organisation de ses dépôts.</p>
<p>GitHub limite la taille des dépôts.
En mai 2020, la limite est de 100 Go.
La taille de tous les dépôts d’un utilisateur authentifié peut être affichée dans les réglages de son compte (“Personnal Settings”, “Repositories”)<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a>.</p>
</div>
<div id="supprimer-un-dossier" class="section level3">
<h3><span class="header-section-number">3.5.3</span> Supprimer un dossier</h3>
<p>Toutes les modifications apportées à un dépôt sont stockées dans son historique.
Il peut être utile d’en supprimer dans quelques cas particuliers:</p>
<ul>
<li>si un fichier contenant des informations confidentielles a été validé par mégarde.
La validation de sa suppression ne le retire pas de l’historique, et les informations confidentielles restent visibles en consultant l’historique.</li>
<li>si des fichiers volumineux ne sont plus nécessaires, par exemple des fichiers PDF produits par R Markdown (chapitre <a href="chap-rediger.html#chap:rediger">4</a>), binaires (donc inadaptés à git) et reproductibles à partir du code.</li>
</ul>
<p>Typiquement, le dossier <code>docs</code> est utilisé pour stocker les documents produits à partir de code R Markdown.
Les fichiers HTML et PDF doivent s’y trouver pour constituer les pages GitHub du projet.
Chaque modification du dépôt génère une nouvelle version de ces fichiers dont le volume de l’historique devient rapidement considérable.
Une solution efficace consiste à déléguer la création de ces fichiers à un système d’intégration continue (chapitre <a href="chap-ci.html#chap:ci">6</a>) et à retirer le dossier <code>docs</code> de la branche principale (<em>master</em>) du dépôt.
Il faut alors supprimer tout son historique pour récupérer la place qu’il occupe, qui peut être l’essentiel de la taille du dépôt.</p>
<p>Les commandes de suppression complète d’un dossier d’un dépôt son présentées ici<a href="#fn33" class="footnote-ref" id="fnref33"><sup>33</sup></a>.
Le dépôt doit être propre, c’est-à-dire sans modifications non validées, et les versions distantes et locales synchronisées.</p>
<p>Les trois commandes suivantes suppriment complètement le dossier <code>docs</code> de l’historique du dépôt git:</p>
<pre><code>git filter-branch --tree-filter &quot;rm -rf docs&quot; |&gt;
    --prune-empty HEAD
git for-each-ref --format=&quot;%(refname)&quot; refs/original/ |&gt;
    | xargs -n 1 git update-ref -d</code></pre>
<p>Le dossier n’est pas supprimé du répertoire de travail.
Il doit donc être ajouté au fichier <code>.gitignore</code> pour ne plus être suivi.
La modification de <code>.gitignore</code> doit être validée.
Ces opérations peuvent être réalisées avec l’interface de RStudio ou en ligne de commande:</p>
<pre><code>echo docs/ &gt;&gt; .gitignore
git add .gitignore
git commit -m &#39;Removing docs folder from git history&#39;</code></pre>
<p>Le nettoyage du dépôt est nécessaire pour supprimer physiquement les données retirées:</p>
<pre><code>git gc</code></pre>
<p>Enfin, le dépôt doit être poussé.
L’option <code>--force</code> implique le remplacement du contenu du dépôt distant par celui du dépôt local: toutes les modifications faites par des collaborateurs sont effacées, c’est pourquoi cette opération de nettoyage implique l’arrêt complet du projet pendant qu’elle a lieu.</p>
<pre><code>git push origin master --force</code></pre>
<p>Ce code peut être utilisé pour supprimer totalement n’importe quel fichier ou dossier d’un dépôt en remplaçant simplement <code>docs</code> dans la commande <code>git filter-branch</code> initiale.
La réduction de la taille du dépôt peut être suivie en utilisant <code>git count-objects -vH</code> avant l’opération, avant <code>git gc</code> (la taille du dépôt reste stable mais a été déplacée vers <em>garbage</em>) et à la fin (la taille du dépôt est sensiblement réduite).</p>
</div>
</div>
<div id="sec:github-pages" class="section level2">
<h2><span class="header-section-number">3.6</span> Pages GitHub</h2>
<p>Tout projet sur GitHub doit avoir contenir un fichier <code>README.md</code> pour le présenter.
Ce fichier est écrit au format Markdown.</p>
<p>Le fichier peut être placé dans le dossier <code>docs</code> pour fournir à fois la page d’accueil du dépôt et de son site web ou bien dupliqué par le script <code>GitHubPages.R</code> dans les projets de documents.
Un dépôt contenant un mémo écrit en R Markdown (voir section <a href="chap-rediger.html#sec:memo">4.3.1</a>) est utilisé comme exemple<a href="#fn34" class="footnote-ref" id="fnref34"><sup>34</sup></a>.</p>
<p>Son fichier <code>README.md</code> existe aux deux emplacements: il est écrit par le développeur à la racine du projet et dupliqué par <code>GitHubPages.R</code>.</p>
<div id="activation" class="section level3">
<h3><span class="header-section-number">3.6.1</span> Activation</h3>
<p>Pour activer les pages GitHub, il faut ouvrir les propriétés du dépôt (<em>Settings</em>) et modifier la rubrique “GitHub Pages” (dans “Options”).
Sélectionner la branche du projet et le dossier contenant les pages web, ici: <code>master</code> et <code>/docs</code>.
En option, le choix d’un thème personnalise l’apparence des pages.</p>
<p>Le site web est accessible à une adresse<a href="#fn35" class="footnote-ref" id="fnref35"><sup>35</sup></a> du domaine <em>github.io</em>.</p>
<p>Le fichier <code>README.md</code> affiché en page d’accueil a un aspect très différent mais le même contenu que celui affiché avec le code sur la page du dépôt dans GitHub.</p>
<p>L’intérêt des pages GitHub est de permettre un accès simple aux documents formatés quand le dépôt contient une production écrite et ou à la documentation des packages R.
Ces contenus seront présentés dans le chapitre suivant.</p>
<p>Un site web principal est proposé avec chaque compte GitHub, à l’adresse <a href="https://GitHubID.github.io" class="uri">https://GitHubID.github.io</a><a href="#fn36" class="footnote-ref" id="fnref36"><sup>36</sup></a>.
Il sera utilisé pour héberger un site web personnel produit par <strong>blogdown</strong>.</p>
</div>
<div id="badges" class="section level3">
<h3><span class="header-section-number">3.6.2</span> Badges</h3>
<p>Les badges sont de petites images, éventuellement mises à jour dynamiquement, qui renseignent rapidement sur le statut d’un projet.
Ils doivent être placés immédiatement après le titre du fichier <code>README.md</code>.</p>
<p>Une bonne pratique consiste à indiquer l’avancement dans le cycle de vie du projet.
Les badges correspondants sont listés sur le site du Tidyverse.<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a></p>
<p>Leur code MarkDown est le suivant:</p>
<pre><code>![stability-wip]
(https://img.shields.io/badge/lifecycle-maturing-blue.svg)</code></pre>
<p>Le package <strong>usethis</strong> simplifie leur création en plaçant le code nécessaire dans le presse-papier.
Il suffit ensuite de le coller dans le fichier.</p>
<p></p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="chap-git.html#cb224-1"></a>usethis<span class="op">::</span><span class="kw">use_lifecycle_badge</span>(<span class="st">&quot;maturing&quot;</span>)</span></code></pre></div>
<p></p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="22">
<li id="fn22"><p><a href="https://github.com/" class="uri">https://github.com/</a><a href="chap-git.html#fnref22" class="footnote-back">↩︎</a></p></li>
<li id="fn23"><p><a href="https://bitbucket.org/" class="uri">https://bitbucket.org/</a><a href="chap-git.html#fnref23" class="footnote-back">↩︎</a></p></li>
<li id="fn24"><p><a href="https://about.gitlab.com/" class="uri">https://about.gitlab.com/</a><a href="chap-git.html#fnref24" class="footnote-back">↩︎</a></p></li>
<li id="fn25"><p><a href="https://git-scm.com/docs/gitignore" class="uri">https://git-scm.com/docs/gitignore</a><a href="chap-git.html#fnref25" class="footnote-back">↩︎</a></p></li>
<li id="fn26"><p><a href="https://github.com/orangemug/stability-badges" class="uri">https://github.com/orangemug/stability-badges</a><a href="chap-git.html#fnref26" class="footnote-back">↩︎</a></p></li>
<li id="fn27"><p><a href="https://github.com/github/renaming" class="uri">https://github.com/github/renaming</a><a href="chap-git.html#fnref27" class="footnote-back">↩︎</a></p></li>
<li id="fn28"><p><a href="https://git-scm.com/book/fr/v2/GitHub-Contribution-%C3%A0-un-projet" class="uri">https://git-scm.com/book/fr/v2/GitHub-Contribution-%C3%A0-un-projet</a><a href="chap-git.html#fnref28" class="footnote-back">↩︎</a></p></li>
<li id="fn29"><p><a href="https://ardalis.com/syncing-a-fork-of-a-github-repository-with-upstream/" class="uri">https://ardalis.com/syncing-a-fork-of-a-github-repository-with-upstream/</a><a href="chap-git.html#fnref29" class="footnote-back">↩︎</a></p></li>
<li id="fn30"><p><a href="https://rogerdudler.github.io/git-guide/index.fr.html" class="uri">https://rogerdudler.github.io/git-guide/index.fr.html</a><a href="chap-git.html#fnref30" class="footnote-back">↩︎</a></p></li>
<li id="fn31"><p><a href="https://git-scm.com/docs/git-count-objects" class="uri">https://git-scm.com/docs/git-count-objects</a><a href="chap-git.html#fnref31" class="footnote-back">↩︎</a></p></li>
<li id="fn32"><p><a href="https://github.com/settings/repositories" class="uri">https://github.com/settings/repositories</a><a href="chap-git.html#fnref32" class="footnote-back">↩︎</a></p></li>
<li id="fn33"><p><a href="https://stackoverflow.com/questions/10067848/remove-folder-and-its-contents-from-git-githubs-history" class="uri">https://stackoverflow.com/questions/10067848/remove-folder-and-its-contents-from-git-githubs-history</a><a href="chap-git.html#fnref33" class="footnote-back">↩︎</a></p></li>
<li id="fn34"><p><a href="https://github.com/EricMarcon/Krigeage" class="uri">https://github.com/EricMarcon/Krigeage</a><a href="chap-git.html#fnref34" class="footnote-back">↩︎</a></p></li>
<li id="fn35"><p><a href="https://EricMarcon.github.io/Krigeage/" class="uri">https://EricMarcon.github.io/Krigeage/</a><a href="chap-git.html#fnref35" class="footnote-back">↩︎</a></p></li>
<li id="fn36"><p>Exemple: <a href="https://EricMarcon.github.io/Krigeage/" class="uri">https://EricMarcon.github.io/Krigeage/</a><a href="chap-git.html#fnref36" class="footnote-back">↩︎</a></p></li>
<li id="fn37"><p><a href="https://www.tidyverse.org/lifecycle/" class="uri">https://www.tidyverse.org/lifecycle/</a><a href="chap-git.html#fnref37" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="chap-utiliseR.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="chap-rediger.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["travailleR.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
